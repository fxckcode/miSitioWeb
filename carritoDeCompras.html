<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carrito de compras</title>
    <link rel="stylesheet" href="./css/carritoDeCompras.css">
</head>
<body>
    <div class="card">
        <div class="total">
            <p>Subtotal cop<span id="total">0</span></p>
        </div>
        <div class="pay">
            <p>Proceder al pago (<span id="cant-product"></span>)</p>
        </div>
        <div class="content">
            <div class="img">
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSOYp9Bo6RXyHlvrBMNZJXwyzkZ2mKjyBp99w&usqp=CAU" alt="">
                <div class="interaction">
                    <button id="btnDecrement">-</button>
                    <input type="number" name="cantidad" id="cantidad" readonly value="0">
                    <button id="btnIncrement">+</button>
                </div>
            </div>
            <div class="resume">
                <p class="book-title">El diario de Anne Frank</p>
                <p class="author">Ana Frank</p>
                <p>Contact</p>
                <p class="price"><span id="precio">120000</span>cop</p>
                <button id="eliminar">Eliminar</button>
                <button>Guardar para mas tarde</button>
            </div>
        </div>
    </div>
</body>
<script>
    var input = document.querySelector("#cantidad")
    var incrementBtn = document.querySelector("#btnIncrement")
    var decrementBtn = document.querySelector("#btnDecrement")
    var precio = document.querySelector("#precio")
    var total = document.querySelector("#total")
    var deleteBtn = document.querySelector("#eliminar")
    var cantProduct = document.querySelector("#cant-product")

    incrementBtn.addEventListener("click", function () {
        let auxCant = parseInt(input.value)
        if (auxCant < 10) {
            auxCant++
            input.value = auxCant
        }
        if (auxCant == 1) {
            var valor_producto = parseInt(precio.innerHTML)
            total.innerHTML = valor_producto
            cantProduct.innerHTML = "1 Producto"

        } else {
            var total_nuevo = auxCant * parseInt(precio.innerHTML)
            total.innerHTML = total_nuevo
            cantProduct.innerHTML = `${auxCant} Productos`
        }
    })


    decrementBtn.addEventListener("click", function () {
        let auxCant = parseInt(input.value)
        if (auxCant == 0) {
            return;
        }
        if (auxCant < 10) {
            auxCant--
            input.value = auxCant
            var precio_producto = parseInt(precio.innerHTML)
            var total_actual = parseInt(total.innerHTML)
            total.innerHTML = total_actual - precio_producto
            cantProduct.innerHTML = `${auxCant} Productos` 
        }
    })

    deleteBtn.addEventListener("click", function () {
        window.location.reload()
    })

</script>
</html>